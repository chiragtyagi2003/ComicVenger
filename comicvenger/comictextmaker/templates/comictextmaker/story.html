{% extends 'comictextmaker/base.html' %}

{% block content %}
{% load static %}
<style>
  body {
    /* Set the background image to a random image from the list */
    background-image: url("{% static random_image %}");
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    background-color: #1a1a1a;
    color: #ffffff;
    font-family: 'Arial', sans-serif;
  }

  /* Center the story box on the screen */
  .story-box {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: rgba(159, 154, 154, 0.8);
    padding: 20px;
    border-radius: 10px;
    max-width: 800px;
  }

  .story-content {
    max-height: 400px;
    overflow-y: auto;
    margin-bottom: 20px;
    padding: 10px;
    border: 2px solid #ff0000;
    border-radius: 5px;
  }

  .story-buttons {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .download-button,
  .share-button {
    padding: 10px 20px;
    background-color: #ff0000;
    color: #ffffff;
    font-size: 16px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
</style>

<div class="story-box">
  <h1>Marvelous Tales</h1>
  <div class="row">
    <div class="col-md-8">
      <h2>Your Story</h2>
      <div class="story-content">
        <!-- Replace this with the generated AI story -->

        <img src="{% static 'comictextmaker/1.png' %}" height="400" width="700">

        <p>
          {{ story1 }}
        </p>

        <img src="{% static 'comictextmaker/2.png' %}" height="400" width="700">

        {{ story2 }}
        
        <img src="{% static 'comictextmaker/3.png' %}" height="400" width="700">


        {{ story3 }}


    
        <!-- Add more paragraphs as needed -->
      </div>
      <div class="story-buttons">
        <button class="download-button" onclick="downloadStory()">Download</button>
        <button class="share-button" onclick="shareStory()">Share</button>
      </div>
    </div>
  </div>
</div>

<script>
  // Function to download the story as a text file
  function downloadStory() {
    const storyText = document.querySelector('.story-content').innerText;
    const blob = new Blob([storyText], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'avengers_story.txt';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
  }

  // Function to simulate sharing the story (You can implement actual sharing functionality)
  function shareStory() {
    alert('Share functionality coming soon!');
  }
</script>
{% endblock %}
